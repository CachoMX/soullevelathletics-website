---
import { siteConfig } from '../data/siteConfig';
import MobileMenu from './MobileMenu.tsx';

const navLinks = [
  { label: 'Home', href: '/' },
  { label: 'About', href: '/about' },
  { label: 'Services', href: '/services' },
  { label: 'Testimonials', href: '/testimonials' },
  { label: 'Contact', href: '/contact' },
];
---

<header id="site-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
  <div class="container-custom mx-auto px-4 md:px-8">
    <nav class="flex items-center justify-between h-20" aria-label="Main navigation">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-3 group" aria-label={`${siteConfig.name} - Home`}>
        <img
          src="/images/logo.png"
          alt={`${siteConfig.name} logo`}
          class="h-14 w-14 rounded-full object-contain bg-white p-1 transition-transform duration-300 group-hover:scale-110"
          width="56"
          height="56"
        />
        <div class="hidden sm:block">
          <span class="font-heading text-lg uppercase tracking-wider text-white leading-tight block">
            Soul Level
          </span>
          <span class="font-heading text-xs uppercase tracking-[0.25em] text-brand-gold leading-tight block">
            Athletics
          </span>
        </div>
      </a>

      <!-- Desktop Nav -->
      <div class="hidden lg:flex items-center gap-8">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class="font-subheading text-sm uppercase tracking-wider text-white/80 hover:text-brand-gold transition-colors duration-300 relative after:content-[''] after:absolute after:bottom-[-4px] after:left-0 after:w-0 after:h-[2px] after:bg-brand-gold after:transition-all after:duration-300 hover:after:w-full"
          >
            {link.label}
          </a>
        ))}
        <a href="/contact" class="btn-primary btn-small">
          Book Now
        </a>
      </div>

      <!-- Mobile Menu (React Island) -->
      <div class="lg:hidden">
        <MobileMenu client:load navLinks={navLinks} />
      </div>
    </nav>
  </div>
</header>

<script>
  const header = document.getElementById('site-header');
  let lastScroll = 0;

  window.addEventListener('scroll', () => {
    const currentScroll = window.scrollY;
    if (header) {
      if (currentScroll > 80) {
        header.classList.add('bg-brand-black/95', 'backdrop-blur-md', 'shadow-lg', 'shadow-black/20');
      } else {
        header.classList.remove('bg-brand-black/95', 'backdrop-blur-md', 'shadow-lg', 'shadow-black/20');
      }
    }
    lastScroll = currentScroll;
  });
</script>
